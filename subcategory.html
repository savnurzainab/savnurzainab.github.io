<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Idealfurniture - Admin</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />


</head>
<body>

  <header class="header">
    <div class="logo">Ideal furniture</div>
	
 <nav class="top-nav">
	<a  href="media.html">Media</a>
    <a href="category.html" class="active">Category</a>

  </nav>

	<a class="icLG" href="index.html">Logout</a>

  </header>
    <ul id="subNav">
  <li><a href="category.html">Category</a></li>
  <li><a href="subcategory.html" class="activeSub">Subcategory</a></li>
  </ul>
 



  <main class="container">
 
    <section class="admin-list">
	  <div id="categoriesList">
      <h2>Categories</h2>
      <table id="subcategoriesTable">
                   <thead>
                    <tbody>
                       
                    </tbody>
					  <thead>
                </table>

</div>
    </section>


	 

    <section class="admin-form">
      <h2>Add Subcategory</h2>

  <!-- Create Subcategory Form
            <div id="createSubcategoryForm" class="form-container">
                <h2>Create New Subcategory</h2>
                <input type="text" id="SubcategoryName" class="input-field" placeholder="Enter Subcategory Name" />
                <button id="createSubcategoryBtn" class="btn btn-create">Create Subcategory</button>
            </div>
 -->

			<div id="editSubcategoryForm" class="form-container" style="display:none;">
                <h2>Edit Subcategory</h2>

				<select id="categoryDropdown" class="input-field">
					<option value="">-- Select Category --</option>
				</select><br>

                <input type="text" id="editSubcategoryName" class="input-field" />
                <input type="hidden" id="editSubcategoryId" />
                <div class="edit-buttons">
                    <button id="updateSubcategoryBtn" class="btn btn-update">Update Subcategory</button>
                    <button id="cancelEditBtn" class="btn btn-cancel">Cancel</button>
                </div>
            </div>


      <form>

			 <div id="createSubcategoryForm" class="form-container">
                <h2>Create New Subcategory</h2>
				<select id="categoryAdDropdown" class="input-field">
					<option value="">-- Select Category --</option>
				</select>

                <input type="text" id="SubcategoryName" class="input-field" placeholder="Enter Subcategory Name" />
                <button id="createSubcategoryBtn" class="btn btn-create">Create Subcategory</button>
            </div>


      
      </form>
    </section>
  </main>

  <footer class="footer">
  <p>&copy; 2025 Ideal furniture. All rights reserved.</p>
</footer>


	
</body>
<script>
document.addEventListener("DOMContentLoaded", function () {
    // Fetch categories from the API
	//const dataUrl='http://localhost:5250/api/category';
	const dataUrl='https://idealfurniture.runasp.net/api/category';

    fetch(dataUrl)
        .then(response => response.json())
        .then(data => {

            if (data && Array.isArray(data)) {
                const dropdown = document.getElementById("categoryDropdown");
                const dropdownAd = document.getElementById("categoryAdDropdown");
                // Clear any existing options
                dropdown.innerHTML = "<option value=''>-- Select Category --</option>";
				dropdownAd.innerHTML = "<option value=''>-- Select Category --</option>";

                // Loop through the API data and append options to the dropdown
                data.forEach(item => {
                  const option1 = document.createElement("option");
                    option1.value = item.id;
                    option1.text = item.name;
                    
                    const option2 = document.createElement("option");
                    option2.value = item.id;
                    option2.text = item.name;

                    // Append each option to its respective dropdown
                    dropdown.appendChild(option1);
                    dropdownAd.appendChild(option2);
                });
            } else {
                console.error("API did not return valid category data");
            }
        })
        .catch(error => {
            console.error("Error loading categories:", error);
            alert("Failed to load categories. Please try again later.");
        });
});
	</script>
    <script src="subcat.js"></script>
</html>
